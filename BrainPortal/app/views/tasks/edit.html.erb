
<h1>Edit Task <%= @task.fullname %></h1>

<%
     form_for(:cbrain_task, @task, :url => '/tasks/update', :method => :put, :builder => CbrainTaskFormBuilder ) do |form|
-%>

<% # Hidden fields -%>
<%= hidden_field_tag :toolname, @task.name %>
<%= hidden_field_tag :id,       @task.id %>
<% @task.params[:interface_userfile_ids].each do |id| %>
  <%= hidden_field_tag "interface_userfile_ids[]".to_la, id %>
<% end %>



<h2>Task Control:</h2>

<strong>Execution server:</strong>&nbsp;<%= bourreau_select "cbrain_task[bourreau_id]", { :selector => @task.bourreau_id, :bourreaux => @bourreaux } , { :disabled => true } %>

<strong>Description:</strong>&nbsp;<%= text_field_tag "cbrain_task[description]", @task.description, :size => 30 %>

<strong>Save results to:</strong>&nbsp;<%= data_provider_select :data_provider_id.to_la, @task.params[:data_provider_id], { :include_blank => "Data provider of input files" } %>



<% unless @task.class.properties[:no_presets] %>
<%= render :partial => "tasks/presets",
           :locals  => { :form => form }
%>
<% end %>



<h2>Task Parameters:</h2>

<div class = "generalbox" style="float: none;">
<%= render :partial => "tasks/cbrain_task/#{@task.name.tableize.singularize}",
           :locals  => { :params  => @task.params, :form => form }
 %>
</div>



<center><%= submit_tag "Save modified task #{@task.name}" %></center>

<% end %>
