<% route_path = @nh_dp.new_record? ? nh_storages_path : nh_storage_path(@nh_dp) %>

<%= error_messages_for @nh_dp, :header_message => "This storage configuration is invalid." %>

<%= form_for(@nh_dp, :as => :nh_dp, :url => route_path ) do |f| %>
Name: <%= f.text_field :name %>
<hr>
Hostname: <%= f.text_field :remote_host %>
<hr>
Port: <%= f.text_field :remote_port %>
<hr>
Username: <%= f.text_field :remote_user %>
<hr>
Path: <%= f.text_field :remote_dir %>
<hr>
Project: <%= group_select('nh_dp[group_id]', { :groups => @nh_projects, :selector => @nh_dp.group_id }, { :include_blank => '(Select project)' } ) %>
<hr>
<%= f.submit "Save configuration" %>
<% end %>
