
<%-
#
# CBRAIN Project
#
# Copyright (C) 2008-2012
# The Royal Institution for the Advancement of Learning
# McGill University
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
-%>

<% title 'CBRAIN API' %>

<link href='swagger/css/typography.css' media='screen' rel='stylesheet' type='text/css'/>
<link href='swagger/css/reset.css'      media='screen' rel='stylesheet' type='text/css'/>
<link href='swagger/css/screen.css'     media='screen' rel='stylesheet' type='text/css'/>

<script src='swagger/lib/object-assign-pollyfill.js'       type='text/javascript'></script>
<script src='swagger/lib/jquery-1.8.0.min.js'              type='text/javascript'></script>
<script src='swagger/lib/jquery.slideto.min.js'            type='text/javascript'></script>
<script src='swagger/lib/jquery.wiggle.min.js'             type='text/javascript'></script>
<script src='swagger/lib/jquery.ba-bbq.min.js'             type='text/javascript'></script>
<script src='swagger/lib/handlebars-4.0.5.js'              type='text/javascript'></script>
<script src='swagger/lib/lodash.min.js'                    type='text/javascript'></script>
<script src='swagger/lib/backbone-min.js'                  type='text/javascript'></script>
<script src='swagger/swagger-ui.min.js'                    type='text/javascript'></script>
<script src='swagger/lib/highlight.9.1.0.pack.js'          type='text/javascript'></script>
<script src='swagger/lib/highlight.9.1.0.pack_extended.js' type='text/javascript'></script>
<script src='swagger/lib/jsoneditor.min.js'                type='text/javascript'></script>
<script src='swagger/lib/marked.js'                        type='text/javascript'></script>
<script src='swagger/lib/swagger-oauth.js'                 type='text/javascript'></script>

<div class="generalbox">
<big><strong>This page describes the CBRAIN API</strong></big>

<p class="medium_paragraphs">
For more information about the work in progress on the API, please look up the
<a href="https://github.com/aces/cbrain/issues?q=is%3Aopen+is%3Aissue+label%3AAPI">API issues</a>
on
<a href="https://github.com/aces/cbrain">CBRAIN's GitHub repository</a>.

<p class="medium_paragraphs">
This specification's <a href="/swagger.yaml">YAML</a> or <a href="/swagger.json">JSON</a> files can be opened
at <a href="https://app.swaggerhub.com/home">SwaggerHUB</a>.

<p class="medium_paragraphs">
This will provide you a way to generate client code and inspect the same documentation
that is shown here.
In particular, this will allow you to generate client libraries in all sorts of
marvelous exotic languages, such as <em>Python</em>, <em>Perl</em>, <em>Java</em>, <em>Swift</em> and even <em><strong>Ruby</strong></em>.
<p class="medium_paragraphs">
Here is a direct link to the developer's <a href="https://app.swaggerhub.com/apis/prioux/CBRAIN/<%= @spec_version %>">latest version on SwaggerHub</a>.
</div>

<div class="swagger-section">
  <div id="message-bar" class="swagger-ui-wrap" data-sw-translate>&nbsp;</div>
  <div id="swagger-ui-container" class="swagger-ui-wrap"></div>
</div>

<script type="text/javascript">

(function() {

var swagger_specbasename = <%= html_for_js(@specfile) %>;
var swaggerUi = new SwaggerUi({
  url:                   './' + swagger_specbasename,
  dom_id:                'swagger-ui-container',
  defaultModelRendering: 'schema',
  onComplete:
    function(swaggerApi, swaggerUi) {
      // Overide the built-in CBRAIN service config to use the current page's.
      var host   = window.location.host;                      // can include the port number
      var scheme = window.location.protocol.replace(/:/,"");  // "http" or "https"
      swaggerApi.setHost(      host     );
      swaggerApi.setSchemes( [ scheme ] );
    }
});
swaggerUi.load();

})();

</script>

